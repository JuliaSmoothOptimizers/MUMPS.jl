<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MUMPS.jl</title><meta name="title" content="Home · MUMPS.jl"/><meta property="og:title" content="Home · MUMPS.jl"/><meta property="twitter:title" content="Home · MUMPS.jl"/><meta name="description" content="Documentation for MUMPS.jl."/><meta property="og:description" content="Documentation for MUMPS.jl."/><meta property="twitter:description" content="Documentation for MUMPS.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="MUMPS.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>MUMPS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#How-to-Install"><span>How to Install</span></a></li><li><a class="tocitem" href="#How-to-Use"><span>How to Use</span></a></li><li><a class="tocitem" href="#Constants-and-Methods-Exposed"><span>Constants and Methods Exposed</span></a></li><li><a class="tocitem" href="#Parallel-Execution"><span>Parallel Execution</span></a></li><li><a class="tocitem" href="#Custom-Installation"><span>Custom Installation</span></a></li></ul></li><li><a class="tocitem" href="api/">API</a></li><li><a class="tocitem" href="reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSmoothOptimizers/MUMPS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSmoothOptimizers/MUMPS.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Home"><a class="docs-heading-anchor" href="#Home">MUMPS.jl documentation</a><a id="Home-1"></a><a class="docs-heading-anchor-permalink" href="#Home" title="Permalink"></a></h1><p>MUMPS is a library for the solution of large linear systems using a factorization. Structure can be exploited, such as symmetry, or symmetry and definiteness. The factorization and solve phases can be performed in parallel via MPI by way of <a href="https://github.com/JuliaParallel/MPI.jl">MPI.jl</a>.</p><h2 id="How-to-Install"><a class="docs-heading-anchor" href="#How-to-Install">How to Install</a><a id="How-to-Install-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-Install" title="Permalink"></a></h2><pre><code class="language-julia hljs">julia&gt; ]
pkg&gt; add MUMPS
pkg&gt; test MUMPS</code></pre><h2 id="How-to-Use"><a class="docs-heading-anchor" href="#How-to-Use">How to Use</a><a id="How-to-Use-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-Use" title="Permalink"></a></h2><p>The main data type holding information on a factorization is <code>Mumps</code>. Remember to initialize MPI before attempting to create a <code>Mumps</code> object. A simple session is as follows:</p><pre><code class="language-julia hljs">using MUMPS, MPI, SparseArrays, LinearAlgebra
MPI.Init()
A = sprand(10, 10, 0.2) + I
rhs = rand(10)
x = solve(A, rhs)
norm(x - A \ rhs) / norm(x)
MPI.Finalize()</code></pre><p>It is possible to separate the initialization, the analysis/factorization, and the solve phases. It is also possible to access the information reported by MUMPS after the factorization and solve phases, and to modify this information (e.g., to perform iterative refinement).</p><p>When creating an instance of a <code>Mumps</code> object explicitly, it is important to specify in advance what arithmetic should be used. Single and double precision real (<code>Float32</code> and <code>Float64</code>) and complex (<code>ComplexF32</code> and <code>ComplexF64</code>) arithmetics are supported.</p><p>For instance,</p><pre><code class="language-julia hljs">MPI.Init()
mumps = Mumps{Float64}(mumps_unsymmetric, default_icntl, default_cntl64)
A = sparse(rand(4,4))
rhs = rand(4)
associate_matrix!(mumps, A)
factorize!(mumps)
associate_rhs!(mumps, rhs)
solve!(mumps)
x = get_solution(mumps)
finalize(mumps)
MPI.Finalize()</code></pre><p>Once the arithmetic of the <code>Mumps</code> instance has been specified, it cannot be changed. The module is flexible in that various data types may be used to define the matrix to be factorized and the right-hand side, and appropriate conversions will take place. Dense matrices may be used, and they will be converted to sparse format.</p><p>For intance,</p><pre><code class="language-julia hljs">mumps = Mumps{ComplexF64}(mumps_unsymmetric, default_icntl, default_cntl64)
A = rand(Int16, 4, 4)
rhs = rand(Float32, 4)
associate_matrix!(mumps, A)  # A is converted to a sparse ComplexF64 matrix
associate_rhs!(mumps, rhs)   # rhs is converted to a Complex64 vector</code></pre><p>See <a href="https://github.com/JuliaSmoothOptimizers/MUMPS.jl/tree/main/test">test</a> for more examples.</p><h2 id="Constants-and-Methods-Exposed"><a class="docs-heading-anchor" href="#Constants-and-Methods-Exposed">Constants and Methods Exposed</a><a id="Constants-and-Methods-Exposed-1"></a><a class="docs-heading-anchor-permalink" href="#Constants-and-Methods-Exposed" title="Permalink"></a></h2><h3 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h3><p>The following convenience constants may be used when initializing a <code>Mumps</code> object:</p><table><tr><th style="text-align: right">Constant</th><th style="text-align: right">Meaning</th></tr><tr><td style="text-align: right"><code>mumps_unsymmetric</code></td><td style="text-align: right">matrix is general unsymmetric (or symmetry is unknown)</td></tr><tr><td style="text-align: right"><code>mumps_definite</code></td><td style="text-align: right">matrix is symmetric and (positive or negative) definite</td></tr><tr><td style="text-align: right"><code>mumps_symmetric</code></td><td style="text-align: right">matrix is symmetric but indefinite (or definiteness is unknown)</td></tr><tr><td style="text-align: right"><code>default_icntl</code></td><td style="text-align: right">array of default integer parameters</td></tr><tr><td style="text-align: right"><code>default_cntl32</code></td><td style="text-align: right">array of default real parameters in single precision</td></tr><tr><td style="text-align: right"><code>default_cntl64</code></td><td style="text-align: right">array of default real parameters in double precision</td></tr></table><p>See Section 5 of the <a href="https://graal.ens-lyon.fr/MUMPS/index.php?page=doc">MUMPS User&#39;s Manual</a> for a description of the integer and real control arrays.</p><h3 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h3><p>A <code>Mumps</code> object is created using the default constructor, which must be supplied with:</p><ul><li>the data type for the arithmetic to be used, as a type parameter, i.e., <code>Mumps{Float64}(...)</code> or <code>Mumps{ComplexF64}(...)</code></li><li><code>sym</code>: one of the constants <code>mumps_unsymmetric</code>, <code>mumps_definite</code> or <code>mumps_symmetric</code>. Note that there is no support for Hermitian complex matrices in MUMPS. Therefore, we recommend to always use <code>mumps_unsymmetric</code> for complex data.</li><li><code>icntl</code>: an integer parameters array (see the MUMPS Users&#39;s Manual)</li><li><code>cntl</code>: a real parameters array (see the MUMPS Users&#39;s Manual)</li></ul><p>The convenience function <code>get_icntl()</code> returns an array of integer parameters corresponding to certain commonly-used options. Its arguments are all optional:</p><ul><li><code>det</code>: a boolean indicating whether the determinant should be computed (default: <code>false</code>)</li><li><code>verbose</code>: a boolean (default: <code>false</code>)</li><li><code>ooc</code>: a boolean indicating whether factors should be stored out of core (default: <code>false</code>)</li><li><code>itref</code>: the number of iterative refinement steps (default: 0).</li></ul><p>A <code>Mumps</code> object is destroyed by calling the <code>finalize()</code> method. Because <code>finalize</code> still issues MPI commands, it is important to call <code>finalize()</code> before calling <code>MPI.Finalize()</code>.</p><table><tr><th style="text-align: right">Method</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>finalize</code></td><td style="text-align: right">Finalize a <code>Mumps</code> object. Must be done before calling <code>MPI.Finalize()</code></td></tr><tr><td style="text-align: right"><code>associate_matrix!</code></td><td style="text-align: right">Register a matrix with the <code>Mumps</code> object. This function makes it possible to define the data on the host only.</td></tr><tr><td style="text-align: right"><code>factorize!</code></td><td style="text-align: right">Factorize the matrix registered with the <code>Mumps</code> object.</td></tr><tr><td style="text-align: right"><code>associate_rhs!</code></td><td style="text-align: right">Register right-hand sides with the <code>Mumps</code> object. This function makes it possible to define the data on the host only.</td></tr><tr><td style="text-align: right"><code>solve!</code></td><td style="text-align: right">Solve the linear system for the given right-hand side.</td></tr><tr><td style="text-align: right"><code>get_solution</code></td><td style="text-align: right">Retrieve the solution from the <code>Mumps</code> object. This function makes it possible for the solution to be assembled on the host only.</td></tr></table><h2 id="Parallel-Execution"><a class="docs-heading-anchor" href="#Parallel-Execution">Parallel Execution</a><a id="Parallel-Execution-1"></a><a class="docs-heading-anchor-permalink" href="#Parallel-Execution" title="Permalink"></a></h2><p>MPI is controled by way of <a href="https://github.com/JuliaParallel/MPI.jl">MPI.jl</a>. Look for the lines that say <code>NUMBER OF WORKING PROCESSES</code> in the output of</p><pre><code class="language-shell hljs">mpirun -np 4 julia examples/mumps_mpi.jl</code></pre><h2 id="Custom-Installation"><a class="docs-heading-anchor" href="#Custom-Installation">Custom Installation</a><a id="Custom-Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Installation" title="Permalink"></a></h2><p><strong>Note: MUMPS is already precompiled with Yggdrasil for all platforms except Windows.</strong></p><p>To use your custom MUMPS, set the environment variable <code>JULIA_MUMPS_LIBRARY_PATH</code> to point to the shared library before <code>using MUMPS</code>. Note that the same version of MUMPS as used by the <code>MUMPS_jll</code> artifact is needed.</p><p>For example, macOS users may install precompiled MUMPS binaries from the Homebrew tap <code>dpo/mumps-jl</code> as follows:</p><pre><code class="language-bash hljs">brew tap dpo/mumps-jl
brew install mpich-mumps
export JULIA_MUMPS_LIBRARY_PATH=$(brew --prefix)/opt/mpich-mumps/lib</code></pre><p>Apple Silicon users should remember to use <code>arch x86_64 brew</code> to refer to Intel binaries run through Rosetta, as we do not (yet) ship Silicon binaries of MUMPS via Homebrew.</p><p>The <code>JULIA_MUMPS_LIBRARY_PATH</code> environment variable may be set permanently in the shell&#39;s startup file, or in <code>$HOME/.julia/config/startup.jl</code>.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Friday 11 October 2024 16:26">Friday 11 October 2024</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
